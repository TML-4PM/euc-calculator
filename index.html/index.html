<!DOCTYPE html>
<html>
<head>
    <title>EUC Job Pricing Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="logo-container">
            <!-- Officeworks Logo -->
            <img class="logo" src="https://upload.wikimedia.org/wikipedia/en/2/2d/Officeworks_Logo.png" alt="Officeworks Logo">
            <!-- Geeks2u Logo -->
            <img class="logo" src="https://www.geeks2u.com.au/wp-content/uploads/2020/04/logo.svg" alt="Geeks2u Logo">
        </div>
        <h1>EUC Job Pricing Calculator</h1>

        <!-- Dark Mode Toggle -->
        <button onclick="toggleDarkMode()">Toggle Dark Mode</button>

        <!-- Custom Quote Description -->
        <label for="quote_description">Add Text to Start Quote:</label>
        <textarea id="quote_description" rows="4" placeholder="Enter a brief description of your requirements"></textarea>

        <!-- Input Fields -->
        <label for="membership_number">Officeworks Membership Number:</label>
        <input type="text" id="membership_number" placeholder="Enter Membership Number">

        <label for="sku">SKU:</label>
        <input type="text" id="sku" placeholder="Enter SKU">

        <label for="base_hours">Base Estimated Hours:</label>
        <input type="number" id="base_hours" min="1" value="1">

        <label for="device_count">Number of Devices:</label>
        <input type="number" id="device_count" min="1" value="5">

        <label for="software">Software Requirements:</label>
        <select id="software" multiple size="5">
            <option value="Office">Microsoft Office</option>
            <option value="Gsuite">Google Workspace (G Suite)</option>
            <option value="SAP">SAP</option>
            <option value="Proofpoint">Proofpoint</option>
            <option value="SFDC">Salesforce (SFDC)</option>
        </select>

        <label for="hardware">Hardware Requirements:</label>
        <select id="hardware" multiple size="5">
            <option value="Laptop">Laptop</option>
            <option value="Desktop">Desktop</option>
            <option value="Tablet">Tablet</option>
            <option value="Smartphone">Smartphone</option>
            <option value="Printer">Printer</option>
            <option value="Monitor">Monitor</option>
            <option value="DockingStation">Docking Station</option>
            <option value="KeyboardMouse">Keyboard & Mouse</option>
        </select>

        <label for="complexity">Complexity Level:</label>
        <select id="complexity">
            <option value="Basic">Basic</option>
            <option value="Standard">Standard</option>
            <option value="Advanced">Advanced</option>
            <option value="Extreme">Extreme</option>
        </select>

        <label for="service_type">Service Type:</label>
        <select id="service_type">
            <option value="Remote Support">Remote Support</option>
            <option value="Onsite Standard">Onsite Standard</option>
            <option value="Onsite Urgent">Onsite Urgent</option>
            <option value="Multi-Site Deployment">Multi-Site Deployment</option>
        </select>

        <label for="technician">Assign Activity to Technician:</label>
        <select id="technician">
            <option value="Tech1">Technician 1</option>
            <option value="Tech2">Technician 2</option>
            <option value="Tech3">Technician 3</option>
        </select>

        <label for="currency">Currency:</label>
        <select id="currency">
            <option value="AUD">AUD</option>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
        </select>

        <button onclick="calculateAndDisplay()">Calculate</button>
        <button onclick="exportQuotesToCSV()">Export Quotes to CSV</button>
        <button onclick="printQuoteToPDF()">Print Quote to PDF</button>
        <button onclick="sendQuoteByEmail()">Send Quotation by Email</button>
        <button onclick="sendToCRM()">Send to CRM</button>
        <button onclick="showPerformanceDashboard()">View Performance Dashboard</button>
        <button onclick="generateBulkQuotes()">Generate Bulk Quotes</button>
        <button onclick="showHistory()">View Quote History</button>

        <!-- Results -->
        <div id="results" style="margin-top: 20px;"></div>

        <!-- Aggregated Metrics -->
        <div id="aggregated-metrics" style="margin-top: 20px;">
            <h3>Aggregated Metrics</h3>
            <p><strong>Total Activities:</strong> <span id="total-activities">0</span></p>
            <p><strong>Total Billable Hours:</strong> <span id="total-hours">0</span> Hours</p>
            <p><strong>Total Cost (AUD):</strong> AUD $<span id="total-cost">0.00</span></p>
        </div>

        <!-- Barcode and QR Code -->
        <div class="barcode-container" id="barcode-container" style="display: none;">
            <h3>Unique Barcode</h3>
            <canvas id="barcode"></canvas>
        </div>
        <div class="qrcode-container" id="qrcode-container" style="display: none;">
            <h3>Unique QR Code</h3>
            <div id="qrcode"></div>
        </div>

        <!-- Activity Timeline -->
        <div id="timeline" style="margin-top: 20px;"></div>

        <!-- Feedback Form -->
        <h3>Feedback</h3>
        <textarea id="feedback" rows="4" placeholder="Provide your feedback here"></textarea>
        <button onclick="submitFeedback()">Submit Feedback</button>

        <!-- Performance Dashboard Modal -->
        <div id="dashboard-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000;">
            <div style="background: white; padding: 20px; margin: 10% auto; width: 80%; max-width: 800px; border-radius: 10px;">
                <h3>Performance Dashboard</h3>
                <canvas id="performance-chart" style="width: 100%; height: 300px;"></canvas>
                <button onclick="closeDashboardModal()">Close</button>
            </div>
        </div>

        <!-- Include External Libraries -->
        <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
        <script src="script.js"></script>
    </div>
</body>
</html>
